<!DOCTYPE html>
<html ng-app="BestivalsApp" lang="en">
  <head>
    <title>Bestivals</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" charset="utf-8"></script>
    <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
    <script type="text/javascript" src=".js/tooltip.js"></script>
    <script type="text/javascript" src="./js/app.js"></script>
    <script type="text/javascript" src="./js/modals.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/styles.css">
  </head>
  <body ng-controller="MainController as ctrl">
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a class="navbar-brand" href="#">Logo</a> -->
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#">Festivals</a></li>
            <!-- <li><a href="#">Projects</a></li>
            <li><a href="#">Contact</a></li> -->
          </ul>
          <!-- <ul class="nav navbar-nav navbar-right">
            <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
           <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Register</a></li> -->
           <div class="nav">
             <ul class="nav navbar-nav navbar-right">



               <li><a class"login" href="#"><span class="login glyphicon glyphicon-log-in" ></span class="white"> Login</a></li>
               <li><a class="register" href="#"><span class="register glyphicon glyphicon-log-in" ></span class="white"> Register</a></li>
               <li class="hello">Hi, {{ctrl.user.username}}!</li>
               </ul>

             <form ng-if='ctrl.user' ng-submit="ctrl.logout()">
               <input type="submit" value="Logout">
             </form>
           </div>
           <div class="login-modal">
             <div class="login-box hello">Login:<br>
               <form ng-submit='ctrl.loginUser()'>
                 <input type="text" placeholder="username" ng-model="ctrl.loginForm.username" />
                 <input type="password" placeholder="password" ng-model="ctrl.loginForm.password" />
                 <input type="submit" />
                 <a class="close-modal" href="#">x</a>
               </form>
             </div>
           </div>Â 
           <div class="register-modal">
             <div class="register-box hello">Register:<br>
              <form ng-submit='ctrl.registerUser()'>
                <input type="text" placeholder="username" ng-model="ctrl.registerForm.username" />
                <input type="password" placeholder="password" ng-model="ctrl.registerForm.password" />
                <input type="submit" />
                <a class="close-modal" href="#">x</a>
              </form>
             </div>
           </div>
        </div>
      </div>
    </nav>

    <!-- CAROUSEL -->
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel" data-slide-to="1"></li>
          <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>
    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
      <div class="item active">
        <img src="images/musiccarousel.jpeg" width="1000" height="600"  alt="Image">
        <div class="carousel-caption">
          <h3>Music</h3>
          <p>Coachella</p>
        </div>
      </div>
      <div class="item">
        <img src="images/filmcarousel.jpg" width="1000" height="600" alt="Image">
        <div class="carousel-caption">
          <h3>Film</h3>
          <p>Sundance Film Festival</p>
        </div>
      </div>
      <div class="item">
        <img src="images/foodcarousel.jpg" width="1000" height="600" alt="Image">
        <div class="carousel-caption">
          <h3>Food</h3>
          <p>Taste Buds Food Festival</p>
        </div>
      </div>
    </div>
    <!-- LEFT/RIGHT CAROUSEL CONTROLS -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    </div>
<!-- SECONDARY NAV -->
    <div class="container text-center">
      <h1>Festival Types</h1><br>
      <div class="row">
        <div class="col-sm-4" ng-model=""><a href ng-click="goMusic = !goMusic"><img src="images/musicfest.jpg" style="width:100%"  class="img-responsive"  alt="Image">
          <h4>Music</A></h4>
        </div>
        <div class="col-sm-4">
          <a href ng-click="goFood = !goFood"><img src="images/foodfest.jpg" style="width:100%" class="img-responsive"  alt="Image">
          <h4>Food</A></h4>
        </div>
        <div class="col-sm-4">
          <a href ng-click="goFilm = !goFilm"><img src="images/fimfest.jpg" class="img-responsive" style="width:100%" width="800" height="600" alt="Image">
          <h4>Film</A></h4>
        </div>
      </div>
    </div><br>
    <!-- TABLE CONTENTS -->
    <div class="card">
        <div class="card-body">
            <div class="table-wrapper-2">
                <!--Table-->
                <table class="table table-responsive">
                    <thead class="mdb-color lighten-4">
                        <tr>
                            <!-- <th>#</th> -->
                            <th class="th-lg">Festival Name</th>
                            <th class="th-lg">Type</th>
                            <th class="th-lg">Location</th>
                            <th class="th-lg">Date</th>
                            <th class="th-lg">Cost</th>
                            <th class="th-lg">Submitted by</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="festival in ctrl.festivals" ng-click="ctrl.oneFest(festival)"  data-toggle="collapse" data-target="#demo">
                            <!-- <th scope="row">1</th> -->
                            <td>{{festival.name}}</td>
                            <td>{{festival.type}}</td>
                            <td>{{festival.location}}</td>
                            <td>{{festival.dates}}</td>
                            <td>{{festival.cost}}</td>
                            <td>{{festival.submittedBy}}</td>
                            <!-- <td><img ng-src="{{festival.img}}" ng-click=""</td> -->
                            <td ng-click="ctrl.deleteFestival( festival._id)">X</td>
                        </tr>
                    </tbody>
                    <tbody class="musicFestivals">
                        <tr ng-repeat="festival in ctrl.festivals | filter: {type: music}" ng-show="goMusic" ng-click="ctrl.oneFest(festival)"<>
                            <!-- <th scope="row">1</th> -->
                            <td>{{festival.name}}</td>
                            <td>{{festival.type}}</td>
                            <td>{{festival.location}}</td>
                            <td>{{festival.dates}}</td>
                            <td>{{festival.cost}}</td>
                            <td>{{festival.submittedBy}}</td>
                            <!-- <td><img ng-src="{{festival.img}}" ng-click=""</td> -->
                            <td ng-click="ctrl.deleteFestival( festival._id)">X</td>
                        </tr>
                    </tbody>
                    <tbody class="foodFestivals">
                        <tr ng-repeat="festival in ctrl.festivals | filter: {type: food}" ng-show="goFood" ng-click="ctrl.oneFest(festival)"<>
                            <!-- <th scope="row">1</th> -->
                            <td>{{festival.name}}</td>
                            <td>{{festival.type}}</td>
                            <td>{{festival.location}}</td>
                            <td>{{festival.dates}}</td>
                            <td>{{festival.cost}}</td>
                            <td>{{festival.submittedBy}}</td>
                            <!-- <td><img ng-src="{{festival.img}}" ng-click=""</td> -->
                            <td ng-click="ctrl.deleteFestival( festival._id)">X</td>
                        </tr>
                    </tbody>
                    <tbody class="filmFestivals">
                        <tr ng-repeat="festival in ctrl.festivals | filter: {type: film}" ng-show="goFilm" ng-click="ctrl.oneFest(festival)"<>
                            <!-- <th scope="row">1</th> -->
                            <td>{{festival.name}}</td>
                            <td>{{festival.type}}</td>
                            <td>{{festival.location}}</td>
                            <td>{{festival.dates}}</td>
                            <td>{{festival.cost}}</td>
                            <td>{{festival.submittedBy}}</td>
                            <!-- <td><img ng-src="{{festival.img}}" ng-click=""</td> -->
                            <td ng-click="ctrl.deleteFestival( festival._id)">X</td>
                        </tr>
                    </tbody>
                    <tbody class="miscFestivals">
                        <tr ng-repeat="festival in ctrl.festivals | filter {type: misc}" ng-show="goMisc" ng-click="ctrl.oneFest(festival)"<>
                            <!-- <th scope="row">1</th> -->
                            <td>{{festival.name}}</td>
                            <td>{{festival.type}}</td>
                            <td>{{festival.location}}</td>
                            <td>{{festival.dates}}</td>
                            <td>{{festival.cost}}</td>
                            <td>{{festival.submittedBy}}</td>


                            <!-- <td><img ng-src="{{festival.img}}"></td> -->
                            <td ng-click="ctrl.deleteFestival( festival._id)">X</td>
                        </tr>
                    </tbody>
                </table>
                <!--Table-->
            </div>
        </div>
    </div>
    </section>
<!-- ADD A FESTIVAL -->
    <form action="/festivals" method='POST'>
      <div class="addFest jumbotron">

        <div class="form-row">

          <div class="form-group col-md-6">

            <label for="inputFestival">Festival Name</label>
            <input name="name" type="text" class="form-control" id="inputEmail4" placeholder="Festival Name">
          </div>
          <div class="form-group col-md-6">
            <label for="inputlocation">Location</label>
            <input name="location" type="text" class="form-control" id="inputPassword4" placeholder="City, State">
          </div>
        </div>
        <div class="form-group col-md-6">
          <label for="inputAddress">Date</label>
          <input name="dates" type="text" class="form-control" id="inputAddress" placeholder="Festival Date(s)">
        </div>
        <div class="form-group col-md-6">
          <label for="inputAddress2">Ticket Price</label>
          <input name="cost" type="text" class="form-control" id="inputAddress2" placeholder="Ticket Price?">
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="inputName">Name</label>
            <input name="submittedBy" type="text" class="form-control" id="inputCity" placeholder="Your Name">
          </div>
          <div class="form-group col-md-4">
            <label for="inputType">Type</label>
            <select name="type" id="inputState" class="form-control">
              <option selected>Choose...</option>
              <option>Music</option>
              <option>Film</option>
              <option>Food</option>
              <option>Misc</option>
            </select>
          </div>
          <div class="form-group col-md-4">
            <label for="inputZip">Image URL</label>
            <input name="img"type="text" class="form-control" id="inputZip" placeholder="Image URL">
          </div>
        </div>
        <div class="submitFest">
          <button type="submit" class="btn btn-primary">Add Festival</button>
        </div>
      </form>
    </div>

    <div class="festJumbo jumbotron">


    <section class=oneFest>

      <h3>{{ctrl.festival.name}}</h3><hr>
      <h5>Type: {{ctrl.festival.type}}</h5>
      <h5>Location: {{ctrl.festival.location}}</h5>
      <h5>Dates: {{ctrl.festival.dates}}</h5>
      <h5>Ticket Price: {{ctrl.festival.cost}}</h5>
      <h5>Submitted by: {{ctrl.festival.submittedBy}}</h5>

    </section>
    <div class="imageShow">


    <img class="hero" ng-src="{{ctrl.festival.img}}" width="400" height="400"/>
    </div>


    <section class="updateFest">
      <!-- <h4 class="update">Update Festival</h4> -->
      <div class="editFest">


    <form action="/">
      <h2 class="update">Update Festival</h2>
        <div class="form-row">

          <div class="form-group col-md-6">

            <label for="inputFestival">Festival Name</label>
            <input name="name" type="text" class="form-control" ng-model="ctrl.formUpdate.name" placeholder="{{ctrl.festival.name}}"
            value="{{ctrl.festival.name}}">
          </div>
          <div class="form-group col-md-6">
            <label for="inputlocation">Location</label>
            <input name="location" type="text" ng-model="ctrl.formUpdate.location" placeholder="{{ctrl.festival.location}}" class="form-control" id="inputPassword4">
          </div>
        </div>
        <div class="form-group col-md-6">
          <label for="inputAddress">Date</label>
          <input name="dates" type="text" ng-model="ctrl.formUpdate.dates"
          value="{{ctrl.festival.dates}}" placeholder="{{ctrl.festival.dates}}" class="form-control" id="inputAddress" >
        </div>
        <div class="form-group col-md-6">
          <label for="inputAddress2">Ticket Price</label>
          <input name="cost" type="text" ng-model="ctrl.formUpdate.cost" placeholder="{{ctrl.festival.cost}}" class="form-control" id="inputAddress2" >
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="inputName">Name</label>
            <input name="submittedBy" type="text" ng-model="ctrl.formUpdate.submittedBy" placeholder="{{ctrl.festival.submittedBy}}" class="form-control" id="inputCity">
          </div>
          <div class="form-group col-md-4">
            <label for="inputType">Type</label>
            <select name="type" id="inputState" class="form-control">
              <option selected>Choose...</option>
              <option>Music</option>
              <option>Film</option>
              <option>Food</option>
              <option>Misc</option>
            </select>
          </div>
          <div class="form-group col-md-4">
            <label for="inputZip">Image URL</label>
            <input name="img" ng-model="ctrl.formUpdate.img" placeholder="{{ctrl.festival.img}}" class="form-control" id="inputZip" >
          </div>
        </div>
        <div class="submitFest">
          <button class="submitNew" ng-click="ctrl.updateFestival(ctrl.formUpdate)">Submit</button></p>
        </form>
        </div>
      </form>
    </div>
    </section>
</div>
</div>
    <footer class="container-fluid text-center">
      <p>Footer Text</p>
    </footer>
  </body>
</html>
